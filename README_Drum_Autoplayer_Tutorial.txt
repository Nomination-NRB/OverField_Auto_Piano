Windows 架子鼓自动演奏 - 乐谱编写教程 (LRC 风格 .lrcd)

一、键位与打击记号（token）
- 踩镲闭  -> 键 1
- 高音吊镲 -> 键 2
- 一嗵鼓  -> 键 3
- 二嗵鼓  -> 键 4
- 叮叮镲  -> 键 5
- 踩镲开  -> 键 Q
- 军鼓    -> 键 W
- 底鼓    -> 键 E
- 落地嗵鼓-> 键 R
- 中音吊镲-> 键 T

二、行格式（与钢琴一致，类似 LRC）
1) 短音 / 点按：
   [mm:ss.xxx] 记号1 记号2 ...
   - 单时间戳表示所有记号立即按下并立即释放（tap）。
2) 延长音（保持按键）：
   [mm:ss.xxx][mm:ss.xxx] 记号1 记号2 ...
   - 第一时间戳 = 按下时刻；第二时间戳 = 释放时刻。
   - 鼓类通常以“点按”为主，但遇到开放式镲或特殊需要持续显示时可使用延长写法。
3) 多个独立短音：
   [00:02.000][00:02.400] 军鼓
   - 当需要在非常接近的时间重复同一击时，可用两个时间戳表示两次短音。

- 时间戳 [分:秒.毫秒]，毫秒可省略；
- 记号必须是下列之一：
  踩镲闭 / 高音吊镲 / 一嗵鼓 / 二嗵鼓 / 叮叮镲 / 踩镲开 / 军鼓 / 底鼓 / 落地嗵鼓 / 中音吊镲
- 支持同一时间多个记号并列，表示“同时击打”。（多人模式下可设置时间分散以减少丢音）

三、节奏与速度
- 乐谱中的时间轴以“真实秒”为准；整体快慢通过程序的“速度比例”控制（如 1.0 原速、2.0 加倍）。

四、常见写法示例
1) 基本八分踩镲 + 2/4 军鼓 + 4/4 底鼓（示意）：
   [00:00.000] 踩镲闭
   [00:00.500] 踩镲闭
   [00:01.000] 踩镲闭 军鼓
   [00:01.500] 踩镲闭
   [00:02.000] 踩镲闭 底鼓
   [00:02.500] 踩镲闭
2) 开镲过门：
   [00:03.000][00:03.400] 踩镲开
3) 吊镲撞点：
   [00:04.000] 高音吊镲 底鼓
4) Tom 过门：
   [00:05.000] 一嗵鼓
   [00:05.300] 二嗵鼓
   [00:05.600] 落地嗵鼓

五、对齐与延迟
- 若游戏存在输入延迟，可在程序中设置“全局延迟（毫秒）”。
- 开始前有“起始倒计时”，便于切回游戏并确保窗口聚焦。

六、文件扩展名与编码
- 建议使用 .lrcd（LRC for Drum），普通 .txt 也可。编码建议 UTF-8。

七、完整示例（节选）
[00:00.000] 踩镲闭 底鼓
[00:00.500] 踩镲闭
[00:01.000] 踩镲闭 军鼓
[00:01.500] 踩镲闭
[00:02.000] 踩镲闭 底鼓
[00:02.500] 踩镲闭
[00:03.000][00:03.400] 踩镲开
[00:03.800] 高音吊镲 底鼓

提示：
- 需要高密度滚奏时，尽量用多个相邻时间戳表示多次短音，而不要写作延长音。
- 多人模式可配置“多音偏移（ms）”在同刻多击时做轻微分散，降低漏音概率。

祝你打鼓愉快！
